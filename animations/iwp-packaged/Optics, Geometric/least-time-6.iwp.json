{"author":{"username":{},"name":{},"organization":{},"email":{}},"objects":{"time":{"start":"0.0","stop":"50.0","change":"1.0","fps":"25.0"},"GraphWindow":{"xmin":"0.0","xmax":"50.0","ymin":"-1.0","ymax":"4.0","xgrid":"5.0","ygrid":"0.5"},"window":{"xmin":"-1.1","xmax":"1.1","ymin":"-1.1","ymax":"1.1","xgrid":"0.1","ygrid":"0.1","xunit":"meters","yunit":"meters"},"description":{"text":"The lower half of the screen is water, and the upper half is air.  Running the animation plots paths of rays from an object in the lower left-hand corner of the screen to an observer in the upper right-hand corner.  Physically, only one of the infinite number of paths is possible.  That one path is the one for which the ray takes the least time from object to observer.  \n\nClick on Show graph to display the travel times in air (red), water (blue), and the total travel time (black) as a function of the x-axis coordinate where the path bends.*  The value of x for which the total time is a minimum is the path that light actually takes. \n\nSince the minimum is fairly broad, it's difficult to determine the corresponding value of x accurately.  One shouldn't assume that the minimum occurs where the times of travel in the air and the water are the same.  A more accurate predictor is the violet line.  The zero of this function is the value of x corresponding to the least total time of travel and also the value of x for which Snell's holds.\n\nThe zero of the function mentioned above is also calculated analytically and is given as the output labeled Quartic root.\n\n*The time scale in the graph is related to the x-coordinate of the bend as follows:  x = (initial bend coordinate) + (x-step)(time).\n\nNote to authors:  The solution of the quartic differs slightly from the least-time method.  This is an unresolved discrepancy.  Using the quartic root to calculate the angles of incidence and refraction does yield values that obey Snell's Law.  Perhaps there is a problem in the time calculation."},"input":[{"name":"n","text":"Index of refraction","initialValue":"1.33","units":{}},{"name":"xo","text":"X of observer","initialValue":"1.0","units":{}},{"name":"yo","text":"Y of observer","initialValue":"1.0","units":{}},{"name":"x1","text":"X of object","initialValue":"-1.0","units":{}},{"name":"y1","text":"Y of object","initialValue":"-1.0","units":{}},{"name":"xi","text":"Initial bend coordinate","initialValue":"-1.0","units":{}},{"name":"xs","text":"X-step","initialValue":"0.04","units":{}}],"output":[{"name":"x","text":"X-coord. at bend","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"xi+xs*t"}},{"name":"water_time","text":"Time in water","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"time_water.ypos"}},{"name":"air_time","text":"Time in air","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"time_air.ypos"}},{"name":"total_time","text":"Total time","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"time_total.ypos"}},{"name":"d_water","text":"Distance in water","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"((x-x1)^2+y1^2)^.5"}},{"name":"d_air","text":"Distance in air","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"((xo-x)^2+yo^2)^.5"}},{"name":"ai","text":"Angle of inc.","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"toDegrees(acos(abs(y1)\/d_water))"}},{"name":"ar","text":"Angle of ref","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"toDegrees(acos(yo\/d_air))"}},{"name":"a4","text":"a4","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"n^2-1"},"hidden":"1"},{"name":"a3","text":"a3","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"-2*(xo+x1)"},"hidden":"1"},{"name":"a2","text":"a2","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"xo^2+4*xo*x1+x1^2+(n^2*yo^2-y1^2)\/a4"},"hidden":"1"},{"name":"a1","text":"a1","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"-2*(xo*x1*(xo+x1)+(x1*n^2*yo^2-xo*y1^2)\/a4)"},"hidden":"1"},{"name":"a0","text":"a0","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"xo^2*x1^2+((n*x1*yo)^2-(xo*y1)^2)\/a4"},"hidden":"1"},{"name":"p","text":"p","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"-a2"},"hidden":"1"},{"name":"q","text":"q","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"a1*a3-4*a0"},"hidden":"1"},{"name":"r","text":"r","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"4*a2*a0-a1^2-a3^2*a0"},"hidden":"1"},{"name":"a","text":"a","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"q-p^2\/3"},"hidden":"1"},{"name":"b","text":"b","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"r-p*q\/3+2*p^3\/27"},"hidden":"1"},{"name":"A","text":"A","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"(-b\/2+(b^2\/4+a^3\/27)^.5)^(1\/3)"},"hidden":"1"},{"name":"B","text":"B","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"(-b\/2-(b^2\/4+a^3\/27)^.5)^(1\/3)"},"hidden":"1"},{"name":"y","text":"root of cubic","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"(A+B)-p\/3"},"hidden":"1"},{"name":"R","text":"R","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"(a3^2\/4-a2+y)^.5"},"hidden":"1"},{"name":"F","text":"E","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"(3*a3^2\/4-R^2-2*a2-(4*a3*a2-8*a1-a3^3)\/(4*R))^.5"},"hidden":"1"},{"name":"z3","text":"Quartic root","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"-a3\/4-R\/2+F\/2"}},{"name":"z4","text":"root 4","units":{},"calculator":{"@attributes":{"type":"parametric"},"value":"-a3\/4-R\/2-F\/2"},"hidden":"1"},{"name":"ait","text":"Angle of inc. (z3)","units":"deg","calculator":{"@attributes":{"type":"parametric"},"value":"toDegrees(acos(abs(y1)\/((z3-x1)^2+y1^2)^.5))"}},{"name":"art","text":"Angle of ref. (z3)","units":"deg","calculator":{"@attributes":{"type":"parametric"},"value":"toDegrees(acos(yo\/((xo-z3)^2+yo^2)^.5))"}}],"solid":[{"name":"time_water","shape":{"@attributes":{"type":"circle","drawTrails":"false","drawVectors":"false"},"vectors":{"@attributes":{"yAccel":"false","Vel":"false","xAccel":"false","yVel":"false","xVel":"false","Accel":"false"}},"width":{"calculator":{"@attributes":{"type":"parametric"},"value":"0"}},"height":{"calculator":{"@attributes":{"type":"parametric"},"value":".01"}},"graphOptions":{"@attributes":{"graphVisible":"true"},"initiallyOn":{"@attributes":{"yAccel":"false","yVel":"false","xAccel":"false","xVel":"false","yPos":"true","xPos":"false"}}}},"color":{"red":"0","green":"0","blue":"255"},"xpath":{"calculator":{"@attributes":{"type":"parametric"},"value":"x"}},"ypath":{"calculator":{"@attributes":{"type":"parametric"},"value":"n*((x-x1)^2+y1^2)^.5"}}},{"name":"time_air","shape":{"@attributes":{"type":"circle","drawTrails":"false","drawVectors":"false"},"vectors":{"@attributes":{"yAccel":"false","Vel":"false","xAccel":"false","yVel":"false","xVel":"false","Accel":"false"}},"width":{"calculator":{"@attributes":{"type":"parametric"},"value":"0"}},"height":{"calculator":{"@attributes":{"type":"parametric"},"value":".01"}},"graphOptions":{"@attributes":{"graphVisible":"true"},"initiallyOn":{"@attributes":{"yAccel":"false","yVel":"false","xAccel":"false","xVel":"false","yPos":"true","xPos":"false"}}}},"color":{"red":"255","green":"0","blue":"0"},"xpath":{"calculator":{"@attributes":{"type":"parametric"},"value":"x"}},"ypath":{"calculator":{"@attributes":{"type":"parametric"},"value":"((xo-x)^2+yo^2)^.5"}}},{"name":"time_total","shape":{"@attributes":{"type":"circle","drawTrails":"false","drawVectors":"false"},"vectors":{"@attributes":{"yAccel":"false","Vel":"false","xAccel":"false","yVel":"false","xVel":"false","Accel":"false"}},"width":{"calculator":{"@attributes":{"type":"parametric"},"value":"0"}},"height":{"calculator":{"@attributes":{"type":"parametric"},"value":".01"}},"graphOptions":{"@attributes":{"graphVisible":"true"},"initiallyOn":{"@attributes":{"yAccel":"false","yVel":"false","xAccel":"false","xVel":"false","yPos":"true","xPos":"false"}}}},"color":{"red":"0","green":"0","blue":"0"},"xpath":{"calculator":{"@attributes":{"type":"parametric"},"value":"x"}},"ypath":{"calculator":{"@attributes":{"type":"parametric"},"value":"n*((x-x1)^2+y1^2)^.5+((xo-x)^2+yo^2)^.5"}}},{"name":"path_water","shape":{"@attributes":{"type":"line","drawTrails":"false","drawVectors":"false"},"vectors":{"@attributes":{"yAccel":"false","Vel":"false","xAccel":"false","yVel":"false","xVel":"false","Accel":"false"}},"width":{"calculator":{"@attributes":{"type":"parametric"},"value":"x-x1"}},"height":{"calculator":{"@attributes":{"type":"parametric"},"value":"-y1"}},"graphOptions":{"@attributes":{"graphVisible":"false"},"initiallyOn":{"@attributes":{"yAccel":"false","yVel":"false","xAccel":"false","xVel":"false","yPos":"false","xPos":"false"}}}},"color":{"red":"255","green":"0","blue":"0"},"xpath":{"calculator":{"@attributes":{"type":"parametric"},"value":"x1"}},"ypath":{"calculator":{"@attributes":{"type":"parametric"},"value":"y1"}}},{"name":"path_air","shape":{"@attributes":{"type":"line","drawTrails":"false","drawVectors":"false"},"vectors":{"@attributes":{"yAccel":"false","Vel":"false","xAccel":"false","yVel":"false","xVel":"false","Accel":"false"}},"width":{"calculator":{"@attributes":{"type":"parametric"},"value":"(x-xo)"}},"height":{"calculator":{"@attributes":{"type":"parametric"},"value":"-yo"}},"graphOptions":{"@attributes":{"graphVisible":"false"},"initiallyOn":{"@attributes":{"yAccel":"false","yVel":"false","xAccel":"false","xVel":"false","yPos":"false","xPos":"false"}}}},"color":{"red":"255","green":"0","blue":"0"},"xpath":{"calculator":{"@attributes":{"type":"parametric"},"value":"xo"}},"ypath":{"calculator":{"@attributes":{"type":"parametric"},"value":"yo"}}},{"name":"quartic","shape":{"@attributes":{"type":"circle","drawTrails":"false","drawVectors":"false"},"vectors":{"@attributes":{"yAccel":"false","Vel":"false","xAccel":"false","yVel":"false","xVel":"false","Accel":"false"}},"width":{"calculator":{"@attributes":{"type":"parametric"},"value":"0"}},"height":{"calculator":{"@attributes":{"type":"parametric"},"value":"1"}},"graphOptions":{"@attributes":{"graphVisible":"true"},"initiallyOn":{"@attributes":{"yAccel":"false","yVel":"false","xAccel":"false","xVel":"false","yPos":"true","xPos":"false"}}}},"color":{"red":"153","green":"0","blue":"153"},"xpath":{"calculator":{"@attributes":{"type":"parametric"},"value":"x"}},"ypath":{"calculator":{"@attributes":{"type":"parametric"},"value":"x^4+a3*x^3+a2*x^2+a1*x+a0"}}}]}}